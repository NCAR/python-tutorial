<!doctype html>
<html lang="en">


  <head>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6L3XB04PXC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-6L3XB04PXC');
    </script>
    
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../_static/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../_static/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../_static/img/favicon-16x16.png">
    <link rel="manifest" href="../_static/site.webmanifest">

    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
    <link rel="stylesheet" href="../_static/css/custom.css" type=text/css>
    <link rel="stylesheet" href="../_static/pygments.css" type=text/css>

    <title>NCAR Python Tutorial</title>

    <script src="https://kit.fontawesome.com/be4ef5002e.js" crossorigin="anonymous"></script>
  </head>


  <body>


    <nav class="navbar navbar-expand navbar-dark sticky-top bg-dark">
      <a class="navbar-brand" href="../index.html">NCAR Python Tutorial</a>
      <ul class="navbar-nav mr-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Tutorials
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="#">Your First</a>
          </div>
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/NCAR/python-tutorial"><i class="fab fa-github"></i></a>
        </li>
      </ul>
    </nav>



    <div class="container-fluid">

      <!-- Sidebar -->
      <nav class="sidebar">
        <div class="sidebar-header">
          <h4>Tutorials</h4>
        </div>

        <div class="container accordian md-accordian accordian-sidebar">
          <div id="accordion">
            <div class="card">
              <div class="card-header" id="headingYourFirst">
                <div class="tier0" data-toggle="collapse" data-target="#collapseYourFirst" aria-expanded="true" aria-controls="collapseYourFirst">
                  <a href="#">Your First ... <i class="fas fa-angle-down rotate-icon"></i></a>
                </div>
              </div>

              <div id="collapseYourFirst" class="collapse show" aria-labelledby="headingYourFirst" data-parent="#accordion">
                <div class="card-body" id="yourfirstOutline">

                  <div class="card">
                    <div class="card-header">
                      <div class="tier1">
                        <a href="#yourfirst-python-for-scientists">Welcome</a>
                      </div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header">
                      <div class="tier1">
                        <a href="#why-python">Why Python?</a>
                      </div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header">
                      <div class="tier1">
                        <a href="#why-another-python-tutorial">Why this?</a>
                      </div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header">
                      <div class="tier1">
                        <a href="#requirements-installation">Requirements</a>
                      </div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header" id="headingYourFirstPart1">
                      <div class="tier1 collapsed" data-toggle="collapse" data-target="#collapseYourFirstPart1"  aria-expanded="false" aria-controls="collapseYourFirstPart1">
                        <a href="#first-python-script">
                          First Python Script <i class="fas fa-angle-down rotate-icon"></i>
                        </a>
                      </div>
                    </div>
                    <div class="card-body collapse" aria-labelledby="headingYourFirstPart1" data-parent="#yourfirstOutline" id="collapseYourFirstPart1">
                      <div class="card-body accordian-tier3" id="yourfirstPart1">
                        <div class="card">
                          <div class="card-header">
                            <div class="tier2">
                              <a href="#reading-a-txt-file">
                                Reading in a .txt File
                              </a>
                            </div>
                          </div>
                        </div>
                        <div class="card">
                          <div class="card-header">
                            <div class="tier2">
                              <a href="#creating-a-data-dictionary">
                                Creating a Data Dictionary
                              </a>
                            </div>
                          </div>
                        </div>
                        <div class="card">
                          <div class="card-header">
                            <div class="tier2">
                              <a href="#writing-functions">
                                Writing Functions
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header" id="headingYourFirstPart2">
                      <div class="tier1 collapsed" data-toggle="collapse" data-target="#collapseYourFirstPart2"  aria-expanded="false" aria-controls="collapseYourFirstPart2">
                        <a href="#first-python-package">
                          First Python Package <i class="fas fa-angle-down rotate-icon"></i>
                        </a>
                      </div>
                    </div>
                    <div class="card-body collapse" aria-labelledby="headingYourFirstPart2" data-parent="#yourfirstOutline" id="collapseYourFirstPart2">
                      <div class="card-body accordian-tier3" id="yourfirstPart2">
                        <div class="card">
                          <div class="card-header">
                            <div class="tier2">
                              <a href="#creating-your-own-package">
                                Creating Your Own Package
                              </a>
                            </div>
                          </div>
                        </div>
                        <div class="card">
                          <div class="card-header">
                            <div class="tier2">
                              <a href="#using-a-built-in-package">
                                Using a Built-In Package
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <main role="main" class="content">
        
  <div class="section" id="your-first-python-tutorial-for-scientists">
<h1>Your First Python Tutorial for Scientists<a class="headerlink" href="#your-first-python-tutorial-for-scientists" title="Permalink to this headline">¶</a></h1>
<p>Welcome to Your First Python tutorial for scientists! In this self-paced
course you will learn how to write Python code using Python best practices.
Through these instructions you will develop Python scripts and use Git and
GitHub to save and organize your work.  At the end of this tutorial you will
have a grasp of how to begin building your own library of Python tools for
your scientific analysis workflows.</p>
<div class="section" id="why-python">
<h2>Why Python?<a class="headerlink" href="#why-python" title="Permalink to this headline">¶</a></h2>
<p>You’re already here because you want to learn to use Python for your data
analysis and visualizations. Python can be compared to other high-level,
interpreted, object-oriented languages, but is especially great because it is
free and open source!</p>
<dl class="simple">
<dt>High level languages:</dt><dd><p>Other high level languages include MatLab, IDL, and NCL. The advantage of
high level languages is that they provide functions, data structures, and
other utilities that are commonly used, which means it takes less code to
get real work done. The disadvantage of high level languages is that they
tend to obscure the low level aspects of the machine such as: memory use,
how many floating point operations are happening, and other information
related to performance. C and C++ are all examples of lower level
languages. The “higher” the level of language, the more computing
fundamentals are abstracted.</p>
</dd>
<dt>Interpreted languages:</dt><dd><p>Most of your work is probably already in interpreted languages if you’ve
ever used IDL, NCL, or MatLab (interpreted languages are typically also
high level). So you are already familiar with the advantages of this: you
don’t have to worry about compiling or machine compatability (it is
portable). And you are probably familiar with their deficiencies: sometimes
they can be slower than compiled languages and potentially more memory
intensive.</p>
</dd>
<dt>Object Oriented languages:</dt><dd><p>Objects are custom datatypes. For every custom datatype, you usually have
a set of operations you might want to conduct. For example, if you have an
object that is a list of numbers you might want to apply a mathematical
operation, such as sum, onto this list object in bulk. Not every function
can be applied to every datatype; it wouldn’t make sense to apply a
logarithm to a string of letters or to capitalize a list of numbers. Data
and the operations applied to them are grouped together into one object.</p>
</dd>
<dt>Open source:</dt><dd><p>Python as a language is open source which means that there is a community
of developers behind its codebase. Anyone can join the developer community
and contribute to deciding the future of the language. When someone
identifies gaps to Python’s abilities, they can write up the code to fill
these gaps. The open source nature of Python means that Python as a
language is very adaptable to shifting needs of the user community.</p>
</dd>
</dl>
<p>Python is a language designed for rapid prototyping and efficient programming.
It is easy to write new code quickly with less typing.</p>
</div>
<div class="section" id="why-another-python-tutorial">
<h2>Why another Python tutorial?<a class="headerlink" href="#why-another-python-tutorial" title="Permalink to this headline">¶</a></h2>
<p>What makes this Python tutorial unique is that it has been designed specifically
to meet the needs of, and feedback from, atmospheric and oceanic scientists
making the transition with the NCAR-wide
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Pivot_to_Python/">pivot-to-Python</a>.
In particular, this tutorial should be useful to any scientist who already knows how to program
in some other language but is taking up Python for the first time. By spending the
first course on pure Python without importing any additional packages, our “Your First”
tutorial addresses the concerns that most tutorials either pick up speed too quickly
by going into the intricacies of third-party packages before explaining how Python is
different from other languages, or get too bogged down in basic programming concepts
that anyone with programming experience already knows. This tutorial attempts to hit
the sweet spot between too high-level and too low-level. By using coding examples
with real atmospheric datasets and questions, the skills and techniques taught are
easily applied to actual atmospheric or oceanic workflows.
We hope that this tailored approach to teaching and sharing computational tools
effectively addresses the concerns and needs of the geoscience community.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/">Official Python 3 Documentation</a></p></li>
<li><p><a class="reference external" href="https://help.github.com/en">Official GitHub Documentation</a></p></li>
<li><p><a class="reference external" href="https://git-scm.com/doc">Official Git Documentation</a></p></li>
</ul>
</div>
</div>
<div class="section" id="requirements-installation">
<h2>Requirements &amp; Installation<a class="headerlink" href="#requirements-installation" title="Permalink to this headline">¶</a></h2>
<p>We will be using the <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> package manager in this tutorial.
If you don’t have Conda installed at all,
<a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html">please install it.</a>
Conda is an excellent package manager for Python development, but it is capable of managing
installations of more than just Python packages.  Both Miniconda (just <code class="code docutils literal notranslate"><span class="pre">conda</span></code>) and the full
Anaconda (<code class="code docutils literal notranslate"><span class="pre">conda</span></code> plus a lot of pre-installed packages and tools) are acceptable,
but we recommend trying to install <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>
first.  Miniconda is the most lightweight solution, and it is the ideal solution when trying to
install Conda on a remote system (i.e., with only SSH access).</p>
<p>We will also be doing all of the following in a <code class="code docutils literal notranslate"><span class="pre">bash</span></code> shell on MacOS.  You may have
different experiences on other OSes, and you may even have problems on MacOS!  That’s okay.  If
you have a problem, please <a class="reference external" href="mailto:xdev&#37;&#52;&#48;ucar&#46;edu">let us know</a>.  We will try to work with you
to find solutions on your OS, and we will post the solution here on this page.</p>
<ol class="arabic">
<li><p>Check that you have conda or miniconda installed on your OS by checking your
conda version:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda --version
</pre></div>
</div>
<p>At the time of writing this, the latest version of conda is 4.8. If you have
an old version of conda installed, update it.</p>
</li>
<li><p>If necessary, update:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda update -n base conda
</pre></div>
</div>
<p>Updating your Conda package manager should not have any effect on your existing
Conda environments.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have a <em>really</em> old version of conda it might be easier to delete it and then reinstall it. But before doing this you have to check your env-list with <code class="code bash docutils literal notranslate"><span class="pre">conda</span> <span class="pre">env</span> <span class="pre">list</span></code> to see if there are any environments you created and want to save.</p>
</div>
</li>
<li><p>Check your conda version again.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda --version
</pre></div>
</div>
</li>
<li><p>Initialize Conda to work with your shell (.e.g., <code class="code docutils literal notranslate"><span class="pre">bash</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda init
</pre></div>
</div>
<p>This step may modify your shell configuration script (e.g., <code class="code docutils literal notranslate"><span class="pre">.bash_profile</span></code>) to
make the <code class="code docutils literal notranslate"><span class="pre">conda</span></code> command available in your shell, and it will make the
<code class="code docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> command work.</p>
</li>
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Install</a> and <a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">Configure</a> Git</p>
<p>Git is a program that tracks changes made to files. This makes it easy to
maintain access to multiple versions of your code as you improve it, and
revert your code back to a previous version if you’ve made any mistakes.</p>
</li>
</ol>
</div>
<div class="section" id="first-python-script">
<h2>First Python Script<a class="headerlink" href="#first-python-script" title="Permalink to this headline">¶</a></h2>
<p>This section of the tutorial will focus on teaching you Python through the
creation of your first script.  You will learn about syntax and the reasoning
behind why things are done the way they are along the way.  We will also
incorporate lessons on the use of Git because we highly recommend you version
controling your work.</p>
<p>We are assuming you are familiar with bash and terminal commands. If not
<a class="reference external" href="https://cheatography.com/davechild/cheat-sheets/linux-command-line/">here is a cheat sheet</a>.</p>
<div class="section" id="reading-a-txt-file">
<h3>Reading a .txt File<a class="headerlink" href="#reading-a-txt-file" title="Permalink to this headline">¶</a></h3>
<p>In building your first Python script we will set up our workspace, read a
<code class="code docutils literal notranslate"><span class="pre">.txt</span></code> file, and learn Git fundamentals.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>You can watch the <a class="reference external" href="https://drive.google.com/file/d/1PU6UxI1p0kCqQbHmSKuP-ox5rtoxPLtX/view?usp=sharing">video recording of  Part I</a>
of this tutorial online, and we have a write-up of the <a class="reference external" href="https://ncar.github.io/xdev/posts/python-tutorial-faq/">question and answer session following Part I, as well</a>.</p>
</div>
<p>Open a terminal to begin.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On Windows, open <strong>Anaconda Prompt</strong>. On a Mac or Linux machine, simply open <strong>Terminal</strong>.</p>
</div>
<ol class="arabic">
<li><p>Create a directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir python_tutorial
</pre></div>
</div>
<p>The first thing we have to do is create a directory to store our work.
Let’s call it <code class="code docutils literal notranslate"><span class="pre">python_tutorial</span></code>.</p>
</li>
<li><p>Go into the directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> python_tutorial
</pre></div>
</div>
</li>
<li><p>Create a virtual environment for this project:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda create --name python_tutorial python
</pre></div>
</div>
<p>A conda environment is a directory that contains a collection of packages
or libraries that you would like installed and accessible for this workflow.
Type <code class="code bash docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span> <span class="pre">--name</span></code> and the name of your project, here that is
<code class="code docutils literal notranslate"><span class="pre">python_tutorial</span></code>, and then specify that you would like to install Python
in the virtual environment for this project.</p>
<p>It is a good idea to create new environments for different projects because
since Python is open source, new versions of the tools you use may become
available. This is a way of guaranteeing that your script will use the same
versions of packages and libraries and should run the same as you expect it
to.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">More information on Conda environments</a></p>
</div>
</li>
<li><p>And activate your Conda environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda activate python_tutorial
</pre></div>
</div>
</li>
<li><p>Make the directory a Git repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git init .
</pre></div>
</div>
<p>A Git repository tracks changes made to files within your project. It looks
like a <code class="code docutils literal notranslate"><span class="pre">.git/</span></code> folder inside that project.</p>
<p>This command adds version control to this new python_tutorial directory
and all of its contents.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository">More information on Git repositories</a></p>
</div>
</li>
<li><p>Create a data directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir data
</pre></div>
</div>
<p>And we’ll make a directory for our data.</p>
</li>
<li><p>Go into the data directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> data
</pre></div>
</div>
</li>
<li><p>Download sample data from the CU Boulder weather station:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -kO https://sundowner.colorado.edu/weather/atoc8/wxobs20170821.txt
</pre></div>
</div>
<p>This weather station is a Davis Instruments wireless Vantage Pro2 located on
the CU-Boulder east campus at the SEEC building (40.01 N, 05.24 W, 5250 ft
elevation). The station is monitored by the Atmospheric and Oceanic Sciences
(ATOC) department and is part of the larger University of Colorado ATOC
Weather Network.</p>
</li>
<li><p>Check the status of your repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
<p>You will see the newly created <code class="code bash docutils literal notranslate"><span class="pre">data</span></code> directory (which is listed as
<code class="code bash docutils literal notranslate"><span class="pre">./</span></code>, since you are currently <em>in</em> that directory) is listed as
“untracked,” which means all of the files you added to that directory are
<em>also</em> untracked by Git.  The <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> command will tell you what
to do with untracked files. Those instructions mirror the next 2 steps:</p>
</li>
<li><p>Add the file to the Git staging area:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add wxobs20170821.txt
</pre></div>
</div>
<p>By adding this datafile to your directory, you have made a change that is
not yet reflected in our Git repository. Every file in your working directory is classified
by git as “untracked”, “unmodified”, “modified”, or “staged.”
Type <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and then the name of the altered file to stage your change,
i.e. moving a file that is either untracked or modified to the staged category so they can be committed.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository">More information on git add</a></p>
</div>
</li>
<li><p>Check your git status once again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
<p>Now this file is listed as a “change to be commited,” i.e. staged. Staged
changes can now be commited to your repository history.</p>
</li>
<li><p>Commit the file to the Git repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git commit -m <span class="s2">&quot;Adding sample data file&quot;</span>
</pre></div>
</div>
<p>With <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>, you’ve updated your repository with all the changes
you staged, in this case just one file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On a Windows machine you may see the following: <code class="code bash docutils literal notranslate"><span class="pre">warning:</span> <span class="pre">LF</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">replaced</span> <span class="pre">by</span> <span class="pre">CRLF.</span></code> The file will have its original line endings in your working directory.
Do not worry too much about this warning. CR refers to “Carriage Return Line Feed” and LF refers to “Line Feed.” Both are used to indicate line termination.
In Windows both a Carriage Return and Line Feed are required to note the end of a line, but in Linux/UNIX only a Line Feed is required. Most text editors can account for line ending differences between opperating systems, but sometimes a conversion is necessary.
To silence this warning you can type <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.autocrlf</span> <span class="name builtin"><span class="pre">false</span></span></code> in the terminal.</p>
</div>
</li>
<li><p>Look at the Git logs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git log
</pre></div>
</div>
<p>If you type <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> you will show a log of all the commits, or changes
made to your repository.</p>
</li>
<li><p>Go back to the top-level directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ..
</pre></div>
</div>
</li>
<li><p>And now that you’ve set up our workspace, create a blank Python script,
called <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch mysci.py
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are working on a Windows machine it is possible that <code class="code bash docutils literal notranslate"><span class="pre">touch</span></code> will not be
recognized as an internal or external command. If this is the case, run
<code class="code bash docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">m2-base</span></code> to enable unix commands such as <code class="code bash docutils literal notranslate"><span class="pre">touch</span></code>.</p>
</div>
</li>
<li><p>Edit the <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> file using nano, vim, or your favorite text editor:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Your classic first command will be to print <code class="code python docutils literal notranslate"><span class="name"><span class="pre">Hello</span></span><span class="punctuation"><span class="pre">,</span></span> <span class="name"><span class="pre">world</span></span><span class="error"><span class="pre">!</span></span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On a Windows machine, it is possible <cite>nano</cite> or <cite>vim</cite> are not recognized as text editors within your terminal. In this case simply try to run <cite>mysci.py</cite> to open a notepad editor.</p>
</div>
</li>
<li><p>Try testing the script by typing <code class="code bash docutils literal notranslate"><span class="pre">python</span></code> and then the name of your script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python mysci.py
</pre></div>
</div>
<p><strong>Yay!</strong> You’ve just created your first Python script.</p>
</li>
<li><p>You probably won’t need to run your Hello World script again, so delete the
<code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">print</span></span><span class="punctuation"><span class="pre">(</span></span><span class="literal string double"><span class="pre">“Hello,</span> <span class="pre">world!”</span></span><span class="punctuation"><span class="pre">)</span></span></code> line and start over with something more useful -
we’ll read the first 4 lines from our datafile.</p>
<p>Change the <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to read:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Read the data file</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data/wxobs20170821.txt&quot;</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>

<span class="n">datafile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>First create a variable for your datafile name, which is a string - this
can be in single or double quotes.</p>
<p>Then create a variable associated with the opened file, here it is called
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">datafile</span></span></code>.</p>
<p>The <code class="code python docutils literal notranslate"><span class="literal string single"><span class="pre">‘r’</span></span></code> argument in the open command indicates that we are opening
the file for reading capabilities. Other input arguments for open include
<code class="code python docutils literal notranslate"><span class="literal string single"><span class="pre">‘w’</span></span></code>, for example, if you wanted to write to the file.</p>
<p>The readline command moves through the open file, always reading the next
line.</p>
<p>And remember to close your datafile.</p>
<p>Comments in Python are indicated with a hash, as you can see in the first
line <code class="code python docutils literal notranslate"><span class="comment single"><span class="pre">#</span> <span class="pre">Read</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">file</span></span></code>. Comments are ignored by the interpreter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#open">More information on the open() function</a></p>
</div>
</li>
<li><p>And test your script again by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python mysci.py
</pre></div>
</div>
<p>Testing of your script with <code class="code bash docutils literal notranslate"><span class="pre">python</span> <span class="pre">mysci.py</span></code> should be done every time
you wish to execute the script. This will no longer be specified as a
unique step in between every change to our script.</p>
</li>
<li><p>Change the <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to read your whole data file:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Read the data file</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data/wxobs20170821.txt&quot;</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">datafile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">datafile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Our code is similar as before, but now we’ve read the entire file. To
test that this worked. We’ll <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">print</span></span><span class="punctuation"><span class="pre">(</span></span><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">)</span></span></code>. Print statements in python
require parenthesis around the object you wish to print, in this scenario the data object.</p>
<p>Try <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">print</span></span><span class="punctuation"><span class="pre">(</span></span><span class="literal string single"><span class="pre">‘data’</span></span><span class="punctuation"><span class="pre">)</span></span></code> as well. Now Python will print the string
<code class="code docutils literal notranslate"><span class="pre">data</span></code>, as it did for the hello world function, instead of the
information stored in the variable data.</p>
<p>Don’t forget to execute with <code class="code bash docutils literal notranslate"><span class="pre">python</span> <span class="pre">mysci.py</span></code>.</p>
</li>
<li><p>Change the <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to read your whole data file using a context
manager with:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Read the data file</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data/wxobs20170821.txt&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>
   <span class="n">data</span> <span class="o">=</span> <span class="n">datafile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Again this is a similar method of opening the datafile, but we now use <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">with</span></span> <span class="name builtin"><span class="pre">open</span></span></code>.
The <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">with</span></span></code> statement is a context manager that provides clean-up and
assures that the file is automatically closed after you’ve read it.</p>
<p>The indendation of the line <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span> <span class="operator"><span class="pre">=</span></span> <span class="name"><span class="pre">datafile</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">read</span></span><span class="punctuation"><span class="pre">()</span></span></code> is very important.
Python is sensitive to white space and will not work if you mix spaces and
tabs (Python does not know your tab width). It is best practice to use
spaces as opposed to tabs (tab width is not consistent between editors).</p>
<p>Combined these two lines mean: with the datafile opened, I’d like to read
it.</p>
<p>And execute with <code class="code bash docutils literal notranslate"><span class="pre">python</span> <span class="pre">mysci.py</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://book.pythontips.com/en/latest/context_managers.html">More information on context managers</a></p>
</div>
</li>
<li><p>What did we just see? What is the data object? What type is data? How do we
find out?</p>
<p>Change the DEBUG section of our script to:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>And execute with <code class="code bash docutils literal notranslate"><span class="pre">python</span> <span class="pre">mysci.py</span></code></p>
<p>Object types refer to <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">float</span></span></code>, <code class="code python docutils literal notranslate"><span class="name"><span class="pre">integer</span></span></code>, <code class="code python docutils literal notranslate"><span class="name"><span class="pre">string</span></span></code>
or other types that you can create.</p>
<p>Python is a dynamically typed language, which means you don’t have to
explicitly specify the datatype when you name a variable, Python will
automatically figure it out by the nature of the data.</p>
</li>
<li><p>Now, clean up the script by removing the DEBUG section, before we commit
this to Git.</p></li>
<li><p>Let’s check the status of our Git repository</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Take a look at which files have been changed in the repository!</p>
</div>
</li>
<li><p>Stage these changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
</pre></div>
</div>
</li>
<li><p>Let’s check the status of our Git repository,again. What’s different from
the last time we checked the status?</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
</li>
<li><p>Commit these changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git commit -m <span class="s2">&quot;Adding script file&quot;</span>
</pre></div>
</div>
<p>Here a good commit message <code class="code docutils literal notranslate"><span class="pre">-m</span></code> for our changes would be
<code class="code docutils literal notranslate"><span class="pre">&quot;Adding</span> <span class="pre">script</span> <span class="pre">file&quot;</span></code></p>
</li>
<li><p>Let’s check the status of our Git repository, now. It should tell you that
there are no changes made to your repository (i.e., your repository is
up-to-date with the state of the code in your directory).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
</li>
<li><p>Look at the Git logs, again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git log
</pre></div>
</div>
<p>You can also print simplified logs with the <code class="code docutils literal notranslate"><span class="pre">--oneline</span></code> option.</p>
</li>
</ol>
<hr class="docutils" />
<p>That concludes the first lesson of this virtual tutorial.</p>
<p>In this section you set up a workspace by creating your directory, conda
environment, and git repository. You downloaded a .txt file and read it using
the Python commands of <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">open</span></span><span class="punctuation"><span class="pre">()</span></span></code>, <code class="code python docutils literal notranslate"><span class="name"><span class="pre">readline</span></span><span class="punctuation"><span class="pre">()</span></span></code>, <code class="code python docutils literal notranslate"><span class="name"><span class="pre">read</span></span><span class="punctuation"><span class="pre">()</span></span></code>,
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">close</span></span><span class="punctuation"><span class="pre">()</span></span></code>, and <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">print</span></span><span class="punctuation"><span class="pre">()</span></span></code>, as well as the context manager
<code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">with</span></span></code>. You should be familiar with the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">str</span></span></code> datatype. You
also used fundamental git commands such as <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code>, <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>,
<code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>, <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>, and <code class="code bash docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Conda environments</a></p></li>
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository">Git repositories</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#open">The open() function</a></p></li>
<li><p><a class="reference external" href="https://book.pythontips.com/en/latest/context_managers.html">Context managers</a></p></li>
</ul>
</div>
</div>
<div class="section" id="creating-a-data-dictionary">
<h3>Creating a Data Dictionary<a class="headerlink" href="#creating-a-data-dictionary" title="Permalink to this headline">¶</a></h3>
<p>This is intended to pick off right where “Reading in a .txt File” left off - you
had just commited your new script file that reads in the data from a file as a string.
You will now manipulate your data into a more usable format - a dictionary.
In doing so you will learn how to write iterative for loops and about Python
data structures.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>You can watch a video recording of <a class="reference external" href="https://drive.google.com/file/d/1DwXaLQH28aqqR1NwOLEYzbR86zQNlTVk/view?usp=sharing">Part II</a>
of this tutorial online, and we have a write-up of the <a class="reference external" href="https://ncar.github.io/xdev/posts/python-tutorial-faq-part-2/">question and answer session following Part II, as well</a>.</p>
</div>
<p>Let’s begin.</p>
<ol class="arabic">
<li><p>One big string isn’t very useful, so use <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">str</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">split</span></span><span class="punctuation"><span class="pre">()</span></span></code> to parse the data
file into a data structure you can use.</p>
<p>Change the <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to read:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Initialize my data variable</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Read and parse the data file</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data/wxobs20170821.txt&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>

 <span class="c1"># Read the first three lines (header)</span>
 <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

 <span class="c1"># Read and parse the rest of the file</span>
 <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">:</span>
    <span class="n">datum</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span>

<span class="c1"># DEBUG</span>
<span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The first thing that is different in this script is an initialized data
variable; <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span> <span class="operator"><span class="pre">=</span></span> <span class="punctuation"><span class="pre">[]</span></span></code> creates the variable data as an empty <code class="code docutils literal notranslate"><span class="pre">list</span></code> which we
will populate as we read the file. Python <code class="code docutils literal notranslate"><span class="pre">list</span></code> objects are a collection data type
that contain ordered and changeable - meaning you can call information out of
the <code class="code docutils literal notranslate"><span class="pre">list</span></code> by its index and you can add or delete elements to your <code class="code docutils literal notranslate"><span class="pre">list</span></code>. Lists
are denoted by square brackets, <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">[]</span></span></code>.</p>
<p>Then with the datafile open for reading capabilities, we are going to write
two separate <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loops. A <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop is used for iterating
over a sequence (such as a list). It is important to note the syntax of Python
<code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loops: the <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">:</span></span></code> at the end of the <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> line, the
tab-indentation of all lines within the <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop, and perhaps the
absence of an <code class="code docutils literal notranslate"><span class="pre">end</span> <span class="pre">for</span></code> that is found in languages such as Matlab.</p>
<p>In your first <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop, loop through the dummy variable <code class="code python docutils literal notranslate"><span class="name"><span class="pre">_</span></span></code>
in <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">range</span></span><span class="punctuation"><span class="pre">(</span></span><span class="literal number integer"><span class="pre">3</span></span><span class="punctuation"><span class="pre">)</span></span></code>. The <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">range</span></span></code> function returns a sequence of
numbers, starting at 0 and incrementing by 1 (by default), ending at the
specified length. Here if you were to <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">print</span></span><span class="punctuation"><span class="pre">(</span></span><span class="name"><span class="pre">_</span></span><span class="punctuation"><span class="pre">)</span></span></code> on each line of the
for loop you would see:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>
<span class="mi">1</span>
<span class="mi">2</span>
</pre></div>
</div>
<p>Try it out if you are unsure of how this works. Here the <code class="code python docutils literal notranslate"><span class="name"><span class="pre">_</span></span></code> variable
is a placeholder, meaning the variable is never called within the loop.</p>
<p>So again, in the first <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop, you execute the <code class="code python docutils literal notranslate"><span class="name"><span class="pre">readline</span></span></code>
command (which you will remember moves down to the next line each time it is
consecutively called) 3 times to read through the file header (which is 3
lines long). <strong>Yay!</strong> You have just written your first <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop!</p>
<p>Then in a second <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop, you loop through lines in the remainder of
your datafile. On each line, split it along white space. The
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">string</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">split</span></span><span class="punctuation"><span class="pre">()</span></span></code> method splits a string into a list on a specified
separator, the default being white space. You could use any character you
like, but other useful options are <code class="code python docutils literal notranslate"><span class="operator"><span class="pre">/</span></span><span class="name"><span class="pre">t</span></span></code> for splitting along tabs or
<code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">,</span></span></code> along commas.</p>
<p>Then you <code class="code python docutils literal notranslate"><span class="name"><span class="pre">append</span></span></code> this split line list to the end of your data <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>.
The <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">append</span></span><span class="punctuation"><span class="pre">()</span></span></code> method adds a single item to the end of your <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>.
After every line in your <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop iteration, the data <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> that was
empty is one element longer. Now we have a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> of <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>s for our
data variable - a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> of the data in each line for multiple lines.</p>
<p>When you print each datum in data, you’ll see that each datum is a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>
of <code class="code python docutils literal notranslate"><span class="name"><span class="pre">string</span></span></code> values.</p>
<p>We just covered a lot of Python nuances in a very little bit a code!</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://book.pythontips.com/en/latest/for_-_else.html">More information on for-loops</a>
<a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#more-on-lists">More information on Python lists</a></p>
</div>
</li>
<li><p>Now, to practice list indexing, get the first, 10th, and last row in data.</p>
<p>Change the DEBUG section of our <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>Index your list by adding the number of your index in square brackets,
<code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">[]</span></span></code>, after the name of the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>. Python is 0-indexed so
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[</span></span><span class="literal number integer"><span class="pre">0</span></span><span class="punctuation"><span class="pre">]</span></span></code> refers to the first index and <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">[</span></span><span class="operator"><span class="pre">-</span></span><span class="literal number integer"><span class="pre">1</span></span><span class="punctuation"><span class="pre">]</span></span></code> refers to
the last index.</p>
</li>
<li><p>Now, to practice slice indexing, get the first 10 rows in data.</p>
<p>Change the DEBUG section of our <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># DEBUG</span>
<span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Using a colon, <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">:</span></span></code>, between two index integers <code class="code python docutils literal notranslate"><span class="name"><span class="pre">a</span></span></code> and
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">b</span></span></code>, you get all indexes between <code class="code python docutils literal notranslate"><span class="name"><span class="pre">a</span></span></code> and <code class="code python docutils literal notranslate"><span class="name"><span class="pre">b</span></span></code>. See
what happens when you print <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[:</span></span><span class="literal number integer"><span class="pre">10</span></span><span class="punctuation"><span class="pre">]</span></span></code>, <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[</span></span><span class="literal number integer"><span class="pre">0</span></span><span class="punctuation"><span class="pre">:</span></span><span class="literal number integer"><span class="pre">10</span></span><span class="punctuation"><span class="pre">:</span></span><span class="literal number integer"><span class="pre">2</span></span><span class="punctuation"><span class="pre">]</span></span></code>, and
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[</span></span><span class="name builtin"><span class="pre">slice</span></span><span class="punctuation"><span class="pre">(</span></span><span class="literal number integer"><span class="pre">0</span></span><span class="punctuation"><span class="pre">,</span></span><span class="literal number integer"><span class="pre">10</span></span><span class="punctuation"><span class="pre">,</span></span><span class="literal number integer"><span class="pre">2</span></span><span class="punctuation"><span class="pre">)]</span></span></code>.  What’s the difference?</p>
</li>
<li><p>Now, to practice nested indexing, get the 5th, the first 5, and every other
column of row 9 in the data object.</p>
<p>Change the DEBUG section of the <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> script to:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">][:</span><span class="mi">5</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">][::</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>In nested <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> indexing, the first index determines the row, and the
second determines the element from that row. Also try printing
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[</span></span><span class="literal number integer"><span class="pre">5</span></span><span class="punctuation"><span class="pre">:</span></span><span class="literal number integer"><span class="pre">8</span></span><span class="punctuation"><span class="pre">][</span></span><span class="literal number integer"><span class="pre">4</span></span><span class="punctuation"><span class="pre">]</span></span></code>, why doesn’t this work?</p>
</li>
<li><p>Clean up the file (remove DEBUG section), stage the changes, and commit.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Parsing file&quot;</span>
</pre></div>
</div>
</li>
<li><p>Can you remember which column is which? Is time the first column or the
second? Which column is the temperature?</p>
<p>Each column is a time-series of data. We would ideally like each time-series
easily accessible, which is not the case when data is row-column ordered
(like it currently is). (Remember what happens when you try to do something
like <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[:][</span></span><span class="literal number integer"><span class="pre">4</span></span><span class="punctuation"><span class="pre">]</span></span></code>!)</p>
<p>Let’s get our data into a more convenient named-column format.</p>
<p>Change <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> to the following:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Initialize my data variable</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="p">[]}</span>

<span class="c1"># Read and parse the data file</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data/wxobs20170821.txt&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>

   <span class="c1"># Read the first three lines (header)</span>
   <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
      <span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

   <span class="c1"># Read and parse the rest of the file</span>
   <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">:</span>
      <span class="n">split_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
      <span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>First we’ll initialize a dictionary, <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code>, indicated by the curly
brackets, <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">{}</span></span></code>. Dictionaries, like <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>s, are changeable, but they
are unordered. They have keys, rather than positions, to point to their
elements. Here you have created 3 elements of your dictionary, all currently
empty <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>s, and specified by the keys <code class="code python docutils literal notranslate"><span class="name"><span class="pre">date</span></span></code>, <code class="code python docutils literal notranslate"><span class="name"><span class="pre">time</span></span></code>, and
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">tempout</span></span></code>. Keys act similarly to indexes: to pull out the <code class="code python docutils literal notranslate"><span class="name"><span class="pre">tempout</span></span></code>
element from data you would type <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[</span></span><span class="literal string single"><span class="pre">‘tempout’</span></span><span class="punctuation"><span class="pre">]</span></span></code>.</p>
<p>Grab date (the first column of each line), time (the second column of each
line), and temperature data (the third column), from each line and
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">append</span></span></code> it to the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> associated with each of these data variables.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">More on Python dictionaries</a></p>
</div>
</li>
<li><p>Clean up (remove DEBUG section), stage, and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Parsing select time-series&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now it’s easy to get the time-series information for each column that we are
interested in grabbing, and we can get each column by name. However,
everything read from the text file is a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">str</span></span></code>. What if we want to do math on
this data, then we need it to be a different data type!</p>
<p>So, let’s convert the tempout time-series to be a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">float</span></span></code> by changing the
line:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>to:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
</pre></div>
</td></tr></table></div>
<p>The <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">float</span></span></code> datatype refers to floating point real values - the datatype
of any numbers with values after a decimal point. You could also change the
datatype to <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">int</span></span></code>, which will round the values down to the closest full
integer.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex">More on Python numeric types (int, float, complex)</a></p>
</div>
</li>
<li><p>Add a DEBUG section at the end and see what <code class="code python docutils literal notranslate"><span class="name"><span class="pre">data</span></span><span class="punctuation"><span class="pre">[</span></span><span class="literal string single"><span class="pre">‘tempout’</span></span><span class="punctuation"><span class="pre">]</span></span></code> now looks
like.</p>
<p>Do you see a difference? It should now be a list of floats.</p>
</li>
<li><p>Clean up (remove DEBUG section), stage, and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Converting tempout to floats&quot;</span>
</pre></div>
</div>
</li>
<li><p>This seems great, so far! But what if you want to read more columns to our
data later? You would have to change the initialization of the data
variable (at the top of <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code>) and have to add the appropriate line
in the “read and parse” section. Essentially, that means you need to
maintain 2 parts of the code and make sure that both remain consistent with
each other.</p>
<p>This is generally not good practice. Ideally, you want to be able to change
only one part of the code and know that the rest of the code will remain
consistent. So, let’s fix this.</p>
<p>Change <code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code> to:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Column names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>

<span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>

<span class="c1"># Initialize my data variable</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
   <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Read and parse the data file</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data/wxobs20170821.txt&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>

   <span class="c1"># Read the first three lines (header)</span>
   <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
      <span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

   <span class="c1"># Read and parse the rest of the file</span>
   <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">:</span>
      <span class="n">split_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
         <span class="n">i</span> <span class="o">=</span> <span class="n">columns</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
         <span class="n">t</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
         <span class="n">value</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
         <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>You have now created a columns <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code> that points each data variable to
its column-index. And a types <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code>, that indicates what type to convert
the data when necessary. When you want new variables pulled out of the
datafile, change these two variables.</p>
<p>Initializing the data <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code> now includes a <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop, where for each
variable specified in columns, that key is initialized pointing to an empty
<code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>. This is the first time you have looped over a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code> and added
key-value pairs to a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code> via assignment.</p>
<p>When reading and parsing the file, you created your first nested <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code>
loop. For every line of the datafile, split that line - and then for every
desired variable in the columns <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code> (date, time, tempout): grab the
datum from the current split line with the specified index (0, 1, 2), use
the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">get</span></span><span class="punctuation"><span class="pre">()</span></span></code> method to find the desired datatype if specified
(avoiding <code class="code python docutils literal notranslate"><span class="name"><span class="pre">key</span></span><span class="operator"><span class="pre">-</span></span><span class="operator word"><span class="pre">not</span></span><span class="operator"><span class="pre">-</span></span><span class="name"><span class="pre">found</span></span></code> errors and defaulting to <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">str</span></span></code> if
unspecified), convert the datum to the desired datatype, and <code class="code python docutils literal notranslate"><span class="name"><span class="pre">append</span></span></code>
the datum to the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> associated with each column key within the data
<code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code>.</p>
</li>
<li><p>Clean up (remove DEBUG section), stage, and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Refactoring data parsing code&quot;</span>
</pre></div>
</div>
</li>
</ol>
<hr class="docutils" />
<p>That concludes the second lesson of this virtual tutorial.</p>
<p>In this section you saved the variables of date, time, and tempout in a data
dictionary.</p>
<p>You should now be familiar with the data structures <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>s (as well as list
indexing, nested lists, and the command <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">append</span></span><span class="punctuation"><span class="pre">()</span></span></code>), <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code>s (their
keys and the command <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">get</span></span><span class="punctuation"><span class="pre">()</span></span></code>), and <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">range</span></span></code>s. You also learned to write
<code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loops, about the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">float</span></span></code> datatype, and using the Python commands
<code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">str</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">split</span></span><span class="punctuation"><span class="pre">()</span></span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://book.pythontips.com/en/latest/for_-_else.html">For-loops</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#more-on-lists">Lists</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">Dictionaries</a></p></li>
</ul>
</div>
</div>
<div class="section" id="writing-functions">
<h3>Writing Functions<a class="headerlink" href="#writing-functions" title="Permalink to this headline">¶</a></h3>
<p>This is intended to pick off right where “Creating a Data Dictionary” left off - you
had just commited your new script that reads the file, saving the variables of date,
time, and tempout in a data dictionary.
In this section you will compute wind chill index by writing your first
function and learning about basic math operators.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>You can watch a video recording of <a class="reference external" href="https://drive.google.com/file/d/1eyPn_GXmvKlWe-e7p97HxS4bRbsTbvyI/view?usp=sharing">Part III</a>
of this tutorial online, and we have a write-up of the <a class="reference external" href="https://ncar.github.io/xdev/posts/python-tutorial-faq-part-3/">question and answer session following Part III, as well</a>.</p>
</div>
<p>Let’s begin.</p>
<ol class="arabic">
<li><p>Okay, now that you’ve read the data in a way that is easy to modify later,
it is time to actually do something with the data.</p>
<p>Compute the wind chill factor, which is the cooling effect of the wind. As
wind speed increases the rate at which a body loses heat increases. The
formula for this is:</p>
<div class="math notranslate nohighlight">
\[WCI = a + (b * t) - (c * v^{0.16}) + (d * t * v^{0.16})\]</div>
<p>Where <em>WCI</em> refers to the Wind Chill in degrees F, <em>t</em> is temperature in
degrees F, <em>v</em> is wind speed in mph, and the other variables are as
follows: <em>a</em> = 35.74, <em>b</em> = 0.6215, <em>c</em> = 35.75, and <em>d</em> = 0.4275.
Wind Chill Index is only defined for temperatures within the range -45 to
+45 degrees F.</p>
<p>You’ve read the temperature data into the tempout variable, but to do this
calculation, you also need to read the windspeed variable from column 7.</p>
<p>Modify the columns variable to read:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Column names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;windspeed&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>and modify the types variable to be:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;windspeed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Great! Save this in your Git repo. Stage and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Reading windspeed as well&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now, let’s write our first function to compute the wind chill factor. We’ll
add this function to the bottom of the file.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the wind chill temperature</span>
<span class="k">def</span> <span class="nf">compute_windchill</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
   <span class="n">a</span> <span class="o">=</span> <span class="mf">35.74</span>
   <span class="n">b</span> <span class="o">=</span> <span class="mf">0.6215</span>
   <span class="n">c</span> <span class="o">=</span> <span class="mf">35.75</span>
   <span class="n">d</span> <span class="o">=</span> <span class="mf">0.4275</span>

   <span class="n">v2</span> <span class="o">=</span> <span class="n">v</span> <span class="o">**</span> <span class="mi">2</span>
   <span class="n">wci</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">v2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">d</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="n">v2</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">wci</span>
</pre></div>
</td></tr></table></div>
<p>To indicate a function in python you type <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">def</span></span></code> for define, the name of your
function, and then in parenthesis the input arguments of that function,
followed by a colon. The preceding lines,the code of your function, are all tab-indented.
If necessary specify your return value.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#function-definitions">More on user defined functions</a></p>
</div>
<p>Here is your first introduction to math operators in Python. Addition,
subtraction, and multiplication look much like you’d expect. A double
astericks, <code class="code python docutils literal notranslate"><span class="operator"><span class="pre">**</span></span></code>, indicates an exponential. A backslash, <code class="code python docutils literal notranslate"><span class="operator"><span class="pre">/</span></span></code>,
is for division, and a double backslash, <code class="code python docutils literal notranslate"><span class="operator"><span class="pre">//</span></span></code>, is for integer division.</p>
<p>And then let’s compute a new list with windchill data at the bottom of
<code class="code docutils literal notranslate"><span class="pre">mysci.py</span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>40
41
42
43</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the wind chill factor</span>
<span class="n">windchill</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">temp</span><span class="p">,</span> <span class="n">windspeed</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windspeed&#39;</span><span class="p">]):</span>
   <span class="n">windchill</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compute_windchill</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">windspeed</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Now we’ll call our function. Initialize a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code> for wind chill with empty
square brackets, <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">[]</span></span></code>. And in a <code class="code python docutils literal notranslate"><span class="keyword"><span class="pre">for</span></span></code> loop, loop through our temperature
and wind speed data, applying the function to each <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">tuple</span></span></code> data pair.
<code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">tuple</span></span></code>s are ordered like <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>s, but they are indicated by
parenthesis, <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">()</span></span></code>, instead of square brackets and cannot be changed or
appended. <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">tuple</span></span></code>s are generally faster than <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">list</span></span></code>s.</p>
<p>We use the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">zip</span></span></code> function in Python to automatically unravel the
<code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">tuple</span></span></code>s. Take a look at <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">zip</span></span><span class="punctuation"><span class="pre">([</span></span><span class="literal number integer"><span class="pre">1</span></span><span class="punctuation"><span class="pre">,</span></span><span class="literal number integer"><span class="pre">2</span></span><span class="punctuation"><span class="pre">],</span></span> <span class="punctuation"><span class="pre">[</span></span><span class="literal number integer"><span class="pre">3</span></span><span class="punctuation"><span class="pre">,</span></span><span class="literal number integer"><span class="pre">4</span></span><span class="punctuation"><span class="pre">,</span></span><span class="literal number integer"><span class="pre">5</span></span><span class="punctuation"><span class="pre">])</span></span></code>. What is the result?</p>
<p>And finally, add a DEBUG section to see the results:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>45
46</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># DEBUG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">windchill</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Clean up, stage, and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Compute wind chill factor&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now, the wind chill factor is actually in the datafile, so we can read it
from the file and compare that value to our computed values. To do this, we
need to read the windchill from column 12 as a <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">float</span></span></code>:</p>
<p>Edit the columns and types <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">dict</span></span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Column names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;windspeed&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
           <span class="s1">&#39;windchill&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python requires that you indent any continued lines.  Take note that we indented the continued line above to align it with the starting <code class="code python docutils literal notranslate"><span class="punctuation"><span class="pre">{</span></span></code>-symbol.</p>
</div>
<p>and</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;windspeed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;windchill&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Then, in a DEBUG section at the end of your script, compare the two
different values (one from data and one computed by our function):</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>46
47
48</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># DEBUG</span>
<span class="k">for</span> <span class="n">wc_data</span><span class="p">,</span> <span class="n">wc_comp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;windchill&#39;</span><span class="p">],</span> <span class="n">windchill</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">wc_data</span><span class="si">:</span><span class="s1">.5f</span><span class="si">}</span><span class="s1">   </span><span class="si">{</span><span class="n">wc_comp</span><span class="si">:</span><span class="s1">.5f</span><span class="si">}</span><span class="s1">   </span><span class="si">{</span><span class="n">wc_data</span> <span class="o">-</span> <span class="n">wc_comp</span><span class="si">:</span><span class="s1">.5f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Using a <code class="code python docutils literal notranslate"><span class="name"><span class="pre">f</span></span><span class="operator"><span class="pre">-</span></span><span class="name"><span class="pre">string</span></span></code> with float formatting you can determine the precision
to which to print the values. The <code class="code python docutils literal notranslate"><span class="operator"><span class="pre">.</span></span><span class="literal number integer"><span class="pre">5</span></span><span class="name"><span class="pre">f</span></span></code> means you want 5 places after the
decimal point.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">More on string formatting</a></p>
</div>
<p>Test the results. What do you see? Our computation isn’t very good is it?</p>
</li>
<li><p>Clean up, stage, and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Compare wind chill factors&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now, format the output so that it’s easy to understand and rename this
script to something indicative of what it actually does.</p>
<p>To the end of the file, add:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>46
47
48
49
50
51
52
53</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Output comparison of data</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                ORIGINAL  COMPUTED&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39; DATE    TIME  WINDCHILL WINDCHILL DIFFERENCE&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------- ------ --------- --------- ----------&#39;</span><span class="p">)</span>
<span class="n">zip_data</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windchill&#39;</span><span class="p">],</span> <span class="n">windchill</span><span class="p">)</span>
<span class="k">for</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">wc_orig</span><span class="p">,</span> <span class="n">wc_comp</span> <span class="ow">in</span> <span class="n">zip_data</span><span class="p">:</span>
   <span class="n">wc_diff</span> <span class="o">=</span> <span class="n">wc_orig</span> <span class="o">-</span> <span class="n">wc_comp</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">time</span><span class="si">:</span><span class="s1">&gt;6</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">wc_orig</span><span class="si">:</span><span class="s1">9.6f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">wc_comp</span><span class="si">:</span><span class="s1">9.6f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">wc_diff</span><span class="si">:</span><span class="s1">10.6f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Here you used <em>f-</em><code class="code python docutils literal notranslate"><span class="name"><span class="pre">string</span></span></code> formatting with more <em>f-</em><code class="code python docutils literal notranslate"><span class="name"><span class="pre">string</span></span></code> formatting
options. The <code class="code python docutils literal notranslate"><span class="operator"><span class="pre">&gt;</span></span><span class="literal number integer"><span class="pre">6</span></span></code> indicates that you’d like the characters of the string to be
right-justified and to take up 6 spaces.</p>
<p>The <code class="code python docutils literal notranslate"><span class="literal number integer"><span class="pre">9</span></span><span class="name"><span class="pre">f</span></span></code> specifies that you want the value to fill 9 spaces, so <code class="code python docutils literal notranslate"><span class="literal number float"><span class="pre">9.6</span></span><span class="name"><span class="pre">f</span></span></code>
indicates you’d like the value to fill 9 spaces with 6 of them being after
the decimal point. Same concept for <code class="code python docutils literal notranslate"><span class="literal number float"><span class="pre">10.6</span></span><span class="name"><span class="pre">f</span></span></code>.</p>
<p>You now have your first complete Python script!</p>
</li>
<li><p>DON’T CLEAN UP! Just stage and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add mysci.py
$ git commit -m <span class="s2">&quot;Output formatting comparison data&quot;</span>
</pre></div>
</div>
</li>
<li><p>Let’s rename this script to something meaningful and indicative of the
computation inside.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git mv mysci.py windchillcomp.py
$ git commit -m <span class="s2">&quot;Renaming first script&quot;</span>
</pre></div>
</div>
</li>
<li><p>Let’s push to GitHub!</p>
<ol class="arabic">
<li><p>First you have to create a remote repository. Go to <a class="reference external" href="https://github.com/">GitHub</a>
and create or login to your account.</p></li>
<li><p>At the top right of any Github page, there is a ‘+’ icon. Click that,
then select ‘New Repository’.</p></li>
<li><p>Name your repository <code class="code docutils literal notranslate"><span class="pre">python_tutorial</span></code>.
It is best practice for your local project and GitHub repository to
share a name.</p></li>
<li><p>And click “Create Repository”</p></li>
<li><p>Copy the link to your GitHub repository.</p>
<p>Copy the link in the input right beneath the title, it should look
something like this:</p>
<p><code class="code docutils literal notranslate"><span class="pre">https://github.com/&lt;user_name&gt;/&lt;repo&gt;.git</span></code></p>
</li>
<li><p>Then to set your remote repository, in your project terminal type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git remote add origin &lt;remote repository URL&gt;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Your remote repository URL is the link you copied in step 5!</p>
</div>
</li>
<li><p>And verify your remote repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git remote -v
</pre></div>
</div>
</li>
<li><p>And finally push your project to GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
</div>
</li>
</ol>
<p>Think of GitHub as online storage for versions of your project, much like
hosting your code in a Google Drive, but with better features specific to
coding. A lot of GitHub’s features show their usefulness when you are
working collaboratively, sharing your code with other scientists, or if
you wanted to display and easily visualize changes in your code between
commits.</p>
</li>
</ol>
<hr class="docutils" />
<p>That concludes the “First Python Script” virtual tutorial where you learned to
write your first Python script.</p>
<p>In this section you calculated wind chill index by writing and calling your
first function. You also learned about Python math operators, the <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">zip</span></span><span class="punctuation"><span class="pre">()</span></span></code>
command, <code class="code python docutils literal notranslate"><span class="name builtin"><span class="pre">tuple</span></span></code> datastructure, <em>f-</em><code class="code python docutils literal notranslate"><span class="name"><span class="pre">string</span></span></code> formatting, and how to push your
repository to GitHub.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#function-definitions">User defined functions</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">String formatting</a></p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="first-python-package">
<h2>First Python Package<a class="headerlink" href="#first-python-package" title="Permalink to this headline">¶</a></h2>
<p>In this section of the tutorial we will learn how to create a Python package
and the basics of how to use built-in package <code class="code docutils literal notranslate"><span class="pre">math</span></code>. This will prepare you
to learn any package you thik may be useful for your scientific analysis.</p>
<div class="section" id="creating-your-own-package">
<h3>Creating Your Own Package<a class="headerlink" href="#creating-your-own-package" title="Permalink to this headline">¶</a></h3>
<p>In this section you will learn how to move functions and code blocks into
Python packages that you can import into your analysis
methods, making them easier to write, read, and share.</p>
<p>Perhaps you are already familiar with importing packages into
your workflow. Many scientists pass around files that contain
unique user-written functions to reduce redundant work between
scientists, but what if the original author found a bug in their
script? It is difficult to track down every user of their code to let them know.
In Python, package managers help you know what
version of those functions you are using. Matlab also has packages
that you can pay extra money to install and use - again Python
is free!</p>
<p>Open a terminal to begin and make sure you are in the
<code class="code docutils literal notranslate"><span class="pre">python_tutorial</span></code> directory and have activated the corresponding environment.</p>
<ol class="arabic">
<li><p>Make a copy of your first script with a new name:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp windchillcomp.py heatindexcomp.py
</pre></div>
</div>
</li>
<li><p>Git add and commit this new file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add heatindexcomp.py
$ git commit -m <span class="s2">&quot;Copying first script to start second&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now you will compute the Heat Index.</p>
<p>Like wind chill, which is a measure of how much
colder the weather feels to the human body due
to wind speed, heat index is a measure of how
much hotter the weather feels to the human body
due to humidity. The Rothfusz formula for heat
index is:</p>
<div class="math notranslate nohighlight">
\[\textit{HI} = a + (b * T) + (c * H) + (d * T * H) + (e * T^2) + (f * H^2) + (g * T^2 * H) + (h * T * H^2) + (i * T^2 * H^2)\]</div>
<p>where <em>HI</em> is the Heat Index, <em>T</em> is temperature is in degrees F,
<em>H</em> is humidity in %, <em>a</em> = -42.379, <em>b</em> = 2.04901523,
<em>c</em> = 10.14333127, <em>d</em> = 0.22475541, <em>e</em> = 0.00683783,
<em>f</em> = 0.05481717, <em>g</em> = 0.00122874, <em>h</em> = 0.00085282, and
<em>i</em> = 0.00000199. The Roothfusz regression is not valid for
extreme temperature or humidity conditions.</p>
<p>Replace the <code class="code docutils literal notranslate"><span class="pre">compute_windchill</span></code> function with in your <code class="code docutils literal notranslate"><span class="pre">heatindexcomp.py</span></code> script with
a <code class="code docutils literal notranslate"><span class="pre">compute_heatindex</span></code> function:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the heat index</span>
<span class="k">def</span> <span class="nf">compute_heatindex</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">hum</span><span class="p">):</span>
   <span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="mf">42.379</span>
   <span class="n">b</span> <span class="o">=</span> <span class="mf">2.04901523</span>
   <span class="n">c</span> <span class="o">=</span> <span class="mf">10.14333127</span>
   <span class="n">d</span> <span class="o">=</span> <span class="mf">0.22475541</span>
   <span class="n">e</span> <span class="o">=</span> <span class="mf">0.00683783</span>
   <span class="n">f</span> <span class="o">=</span> <span class="mf">0.05481717</span>
   <span class="n">g</span> <span class="o">=</span> <span class="mf">0.00122874</span>
   <span class="n">h</span> <span class="o">=</span> <span class="mf">0.00085282</span>
   <span class="n">i</span> <span class="o">=</span> <span class="mf">0.00000199</span>

   <span class="n">rh</span> <span class="o">=</span> <span class="n">hum</span> <span class="o">/</span> <span class="mi">100</span>

   <span class="n">hi</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">rh</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">d</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="n">rh</span><span class="p">)</span>
      <span class="o">+</span> <span class="p">(</span><span class="n">e</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">rh</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">g</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">rh</span><span class="p">)</span>
      <span class="o">+</span> <span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="n">rh</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">rh</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">hi</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Change the <code class="code docutils literal notranslate"><span class="pre">columns</span></code> and <code class="code docutils literal notranslate"><span class="pre">types</span></code> dictionary we read from the data file to
read in the humidity and heat index values as <code class="code docutils literal notranslate"><span class="pre">float</span></code>s:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Column names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;humout&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;heatindex&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">}</span>

<span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;humout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;heatindex&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Update the function call and printing sections of the script to match:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>49
50
51
52
53
54
55
56
57
58
59</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the heat index</span>
<span class="n">heatindex</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">temp</span><span class="p">,</span> <span class="n">hum</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;humout&#39;</span><span class="p">]):</span>
   <span class="n">heatindex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compute_heatindex</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">hum</span><span class="p">))</span>

<span class="c1"># Output comparison of data</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                ORIGINAL  COMPUTED&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39; DATE    TIME  HEAT INDX HEAT INDX DIFFERENCE&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------- ------ --------- --------- ----------&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">hi_orig</span><span class="p">,</span> <span class="n">hi_comp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;heatindex&#39;</span><span class="p">],</span> <span class="n">heatindex</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">time</span><span class="si">:</span><span class="s1">&gt;6</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">hi_orig</span><span class="si">:</span><span class="s1">9.6f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">hi_comp</span><span class="si">:</span><span class="s1">9.6f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">hi_orig</span><span class="o">-</span><span class="n">hi_comp</span><span class="si">:</span><span class="s1">10.6f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Run this script with &quot;<code class="code docutils literal notranslate"><span class="pre">python</span> <span class="pre">heatindexcomp.py</span></code>&quot; and see the results.</p>
<p>So far you have only revisited concepts from “Your First Script”.</p>
</li>
<li><p>Git stage and commit this new script.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add heatindexcomp.py
$ git commit -m <span class="s2">&quot;Updating new heat index script&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now, you have two scripts that do very
similar things. In fact, all of the data reading
and parsing code is duplicated! And the output is
similarly formatted, too.  Let’s remove that duplication!</p>
<p>Create a new file called <code class="code docutils literal notranslate"><span class="pre">readdata.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch readdata.py
</pre></div>
</div>
<p>This new file will include the common code for reading the data file from both the
<code class="code docutils literal notranslate"><span class="pre">windchillcomp.py</span></code> and <code class="code docutils literal notranslate"><span class="pre">heatindexcomp.py</span></code> scripts.</p>
</li>
<li><p>Copy and paste the lines for reading in the data file into <code class="code docutils literal notranslate"><span class="pre">readdata.py</span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Initialize my data variable</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
   <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Read and parse the data file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>

   <span class="c1"># Read the first three lines (header)</span>
   <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
      <span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

   <span class="c1"># Read and parse the rest of the file</span>
   <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">:</span>
      <span class="n">split_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
         <span class="n">i</span> <span class="o">=</span> <span class="n">columns</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
         <span class="n">t</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
         <span class="n">value</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
         <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Turn these lines into a function:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_data</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="p">{},</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;data/wxobs20170821.txt&quot;</span><span class="p">):</span>
   <span class="c1"># Initialize my data variable</span>
   <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
   <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
      <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

   <span class="c1"># Read and parse the data file</span>
   <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>

      <span class="c1"># Read the first three lines (header)</span>
      <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
         <span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

      <span class="c1"># Read and parse the rest of the file</span>
      <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">:</span>
         <span class="n">split_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
         <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">columns</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The function arguments for our <code class="code docutils literal notranslate"><span class="pre">read_data</span></code> function are <code class="code docutils literal notranslate"><span class="pre">columns</span></code>, <code class="code docutils literal notranslate"><span class="pre">types</span></code>, and <code class="code docutils literal notranslate"><span class="pre">filename</span></code>.
The <code class="code docutils literal notranslate"><span class="pre">types</span></code> and <code class="code docutils literal notranslate"><span class="pre">filename</span></code> variables are both keyword arguments, which means that it is not
necessary to include them in your function call; if you do not call them, their value is taken as what they are
assigned to in the function definition.</p>
<p>When you see <code class="code docutils literal notranslate"><span class="pre">types={}</span></code> it means that <code class="code docutils literal notranslate"><span class="pre">types</span></code> is presumed to be an empty dictionary when unspecified
(and so you don’t have to specify it every time you call the function when this keyword isn’t relevant).</p>
<p>Similarly, <code class="code docutils literal notranslate"><span class="pre">filename</span></code> is set to the path of our data file as long as the user doesn’t specify a different
file.</p>
<p>Keyword arguments can be called in any order, but they must follow all <em>positional</em> arguments
(i.e., arguments that do not have default values).</p>
</li>
<li><p>Add a docstring to the function:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_data</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="p">{},</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;data/wxobs20170821.txt&quot;</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Read data from CU Boulder Weather Station data file</span>

<span class="sd">   Parameters:</span>
<span class="sd">      columns: A dictionary of column names mapping to column indices</span>
<span class="sd">      types: A dictionary of column names mapping to types to which</span>
<span class="sd">         to convert each column of data</span>
<span class="sd">      filename: The string path pointing to the CU Boulder Weather</span>
<span class="sd">            Station data file</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="c1"># Initialize my data variable</span>
   <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
   <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
      <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

   <span class="c1"># Read and parse the data file</span>
   <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>

      <span class="c1"># Read the first three lines (header)</span>
      <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
         <span class="n">datafile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

      <span class="c1"># Read and parse the rest of the file</span>
      <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">:</span>
         <span class="n">split_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
         <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">columns</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">split_line</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The section between the tripple quotes <code class="code docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code> is the docstring.
The “Read data from CU Boulder
Weather Station data file …” describing the utility
of the function and the list of parameters are
standard information included in a docstring, but there is no requirement.  Everything
between the triple quotes is essentially a comment that you can write and format any
way you want.</p>
<p>This new file is a <em>module</em>. Modules are simply
files containing Python code, meant to be called
up (or “imported”) within a different Python script.  We’ll get to this later.</p>
</li>
<li><p>Stage and commit this new file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add readdata.py
$ git commit -m <span class="s2">&quot;Adding new readdata module&quot;</span>
</pre></div>
</div>
</li>
<li><p>Amend your two Python (<code class="code docutils literal notranslate"><span class="pre">heatindexcomp.py</span></code> and <code class="code docutils literal notranslate"><span class="pre">windchillcomp.py</span></code>) scripts by deleting the equivalent read-file code in them.</p></li>
<li><p>Add the following import statement to the top of each script:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">readdata</span> <span class="kn">import</span> <span class="n">read_data</span>
</pre></div>
</td></tr></table></div>
<p>In python you can call up functionality from scripts outside of your active script using the
<code class="code docutils literal notranslate"><span class="pre">import</span></code> statement. Here we import our <code class="code docutils literal notranslate"><span class="pre">read_data</span></code> function from the <code class="code docutils literal notranslate"><span class="pre">readdata</span></code> module.
And now we can call up the function from these scripts.</p>
</li>
<li><p>And after the initializations of the <code class="code docutils literal notranslate"><span class="pre">columns</span></code> and <code class="code docutils literal notranslate"><span class="pre">types</span></code> variables, replace the
deleted code with a function call:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Read data from file</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The <code class="code docutils literal notranslate"><span class="pre">types=types</span></code> says that the input argument <code class="code docutils literal notranslate"><span class="pre">types</span></code> is being set equal to our dictionary <code class="code docutils literal notranslate"><span class="pre">types</span></code>.</p>
<p>Test out both of these scripts to make sure they still work!</p>
</li>
<li><p>Do a &quot;<code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>&quot; now.</p>
<p>Do you notice something new?  Running our new scripts created the <cite>__pycache__</cite> directory.</p>
<p>What is <code class="code docutils literal notranslate"><span class="pre">__pycache__</span></code>?
When you run a python program with an <code class="code docutils literal notranslate"><span class="pre">import</span></code>
command, Python learns that you have written code
that you may call again. The interpreter compiles
your scripts to bytecode and stores them in a cache,
making your scripts run a little faster next time.
As a user can for the most part ignore this new folder.
If you change or delete your scripts they will be
recompiled and reappear in this folder.</p>
<p>However, you <em>don’t</em> want to add this directory to
our project repository, so before you commit
anything, tell git to ignore it!</p>
<p>Create a new file (in the top-level directory
of your project) called <code class="code docutils literal notranslate"><span class="pre">.gitignore</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch .gitignore
</pre></div>
</div>
<p>with the following contents:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>__pycache__/
</pre></div>
</div>
</li>
<li><p>Do another <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>.  What do you see?</p>
<p>Now, instead of <code class="code docutils literal notranslate"><span class="pre">__pycache__</span></code> being listed as
“untracked”, you see <code class="code docutils literal notranslate"><span class="pre">.gitignore</span></code> being listed as
“untracked”, and no mention of <code class="code docutils literal notranslate"><span class="pre">__pycache__</span></code>.</p>
</li>
<li><p>Stage and commit the new <code class="code docutils literal notranslate"><span class="pre">.gitignore</span></code> file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add .gitignore
$ git commit -m <span class="s2">&quot;Ignoring pycache&quot;</span>
</pre></div>
</div>
<p>Do another <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>.  Notice that
the edits you made to your two scripts have still
not been committed to the project repository!
Because they have not yet been staged.</p>
</li>
<li><p>Stage <em>both files</em> and commit all new changes in one commit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add -a
$ git commit -m <span class="s2">&quot;Refactor scripts to use new module&quot;</span>
</pre></div>
</div>
<p>You can type <code class="code docutils literal notranslate"><span class="pre">-a</span></code> instead of the name of your files to add all unstaged changes.</p>
</li>
<li><p>There is still have some duplicated
code between the two scripts. Let’s combine the final
output code and printing code.</p>
<p>Create another module file called <code class="code docutils literal notranslate"><span class="pre">printing.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch printing.py
</pre></div>
</div>
<p>And create a printing function (with docstring!) in <code class="code docutils literal notranslate"><span class="pre">printing.py</span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_comparison</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">original_data</span><span class="p">,</span> <span class="n">computed_data</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Print a comparison of two timeseries (original and computed)</span>

<span class="sd">   Parameters:</span>
<span class="sd">      name: A string name for the data being compared. (Limited</span>
<span class="sd">         to 9 characters in length)</span>
<span class="sd">      date: List of strings representing the dates for each data element</span>
<span class="sd">      time: List of strings representing time of day for each data element</span>
<span class="sd">      original_data: List of original data (floats)</span>
<span class="sd">      computed_data: List of computed data (floats)</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;                ORIGINAL  COMPUTED&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; DATE    TIME  </span><span class="si">{</span><span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">:</span><span class="s1">&gt;9</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">:</span><span class="s1">&gt;9</span><span class="si">}</span><span class="s1"> DIFFERENCE&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;------- ------ --------- --------- ----------&#39;</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">orig</span><span class="p">,</span> <span class="n">comp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">original_data</span><span class="p">,</span> <span class="n">computed_data</span><span class="p">):</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">time</span><span class="si">:</span><span class="s1">&gt;6</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">orig</span><span class="si">:</span><span class="s1">9.6f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">comp</span><span class="si">:</span><span class="s1">9.6f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">orig</span><span class="o">-</span><span class="n">comp</span><span class="si">:</span><span class="s1">10.6f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The only new functionality shown here is
<code class="code docutils literal notranslate"><span class="pre">string.upper()</span></code> (or, specifically, <code class="code docutils literal notranslate"><span class="pre">name.upper()</span></code>), which capitalizes all lower case
letters in a string.</p>
</li>
<li><p>Edit the two scripts to use this new module (similar methods to step #12-14), and test your results.</p>
<p>Try to do this on your own first, but if you are getting error messages the solution looks like:</p>
<ol class="arabic">
<li><p>Add the &quot;<code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">printing</span> <span class="pre">import</span> <span class="pre">print_comparison</span></code>&quot; line to the top of each script.</p></li>
<li><p>Replace the printing output section at the bottom of each script with:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Output comparison of data</span>
<span class="n">print_comparison</span><span class="p">(</span><span class="s1">&#39;WINDCHILL&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windchill&#39;</span><span class="p">],</span> <span class="n">windchill</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>or</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Output comparison of data</span>
<span class="n">print_comparison</span><span class="p">(</span><span class="s1">&#39;HEAT INDX&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;heatindex&#39;</span><span class="p">],</span> <span class="n">heatindex</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</li>
</ol>
</li>
<li><p>Stage all changes and commit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add -a
$ git commit -m <span class="s2">&quot;Creating printing module&quot;</span>
</pre></div>
</div>
</li>
<li><p>You now have 2 different modules related
to the same project.  It is best practice
to separate different functions into different
modules depending upon the kind of functionality
they represent.  In this case, you’ve separated
out the concepts of “data input” and “printing
output” into different modules.</p>
<p>Do the same thing with the computation functions,
<code class="code docutils literal notranslate"><span class="pre">compute_windchill</span></code> and <code class="code docutils literal notranslate"><span class="pre">compute_heatindex</span></code>.</p>
<p>Move these functions into a new module called
<code class="code docutils literal notranslate"><span class="pre">computation.py</span></code>, and modify the scripts to use
this new module.  Remember to add docstrings!</p>
<p>Try to do this on your own first!!</p>
<p>Your new <code class="code docutils literal notranslate"><span class="pre">computation.py</span></code> module should look
similar to the following:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compute_windchill</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Compute the wind chill factor given the temperature and wind speed</span>

<span class="sd">   NOTE: This computation is valid only for</span>
<span class="sd">      temperatures between -45F and +45F and for</span>
<span class="sd">      wind speeds between 3 mph and 60 mph.</span>

<span class="sd">   Parameters:</span>
<span class="sd">      t: The temperature in units of F</span>
<span class="sd">      v: The wind speed in units of mph</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">a</span> <span class="o">=</span> <span class="mf">35.74</span>
   <span class="n">b</span> <span class="o">=</span> <span class="mf">0.6215</span>
   <span class="n">c</span> <span class="o">=</span> <span class="mf">35.75</span>
   <span class="n">d</span> <span class="o">=</span> <span class="mf">0.4275</span>

   <span class="n">v16</span> <span class="o">=</span> <span class="n">v</span> <span class="o">**</span> <span class="mf">0.16</span>
   <span class="n">wci</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">v16</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">d</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="n">v16</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">wci</span>


<span class="k">def</span> <span class="nf">compute_heatindex</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">hum</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Compute the heat index given the temperature and the humidity</span>

<span class="sd">   Parameters:</span>
<span class="sd">      t: The temperature in units of F</span>
<span class="sd">      hum: The relative humitidy in units of %</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="mf">42.379</span>
   <span class="n">b</span> <span class="o">=</span> <span class="mf">2.04901523</span>
   <span class="n">c</span> <span class="o">=</span> <span class="mf">10.14333127</span>
   <span class="n">d</span> <span class="o">=</span> <span class="mf">0.22475541</span>
   <span class="n">e</span> <span class="o">=</span> <span class="mf">0.00683783</span>
   <span class="n">f</span> <span class="o">=</span> <span class="mf">0.05481717</span>
   <span class="n">g</span> <span class="o">=</span> <span class="mf">0.00122874</span>
   <span class="n">h</span> <span class="o">=</span> <span class="mf">0.00085282</span>
   <span class="n">i</span> <span class="o">=</span> <span class="mf">0.00000199</span>

   <span class="n">rh</span> <span class="o">=</span> <span class="n">hum</span> <span class="o">/</span> <span class="mi">100</span>

   <span class="n">hi</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">rh</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">d</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="n">rh</span><span class="p">)</span>
   <span class="o">+</span> <span class="p">(</span><span class="n">e</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">rh</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">g</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">rh</span><span class="p">)</span>
   <span class="o">+</span> <span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">t</span> <span class="o">*</span> <span class="n">rh</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">rh</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">hi</span>
</pre></div>
</td></tr></table></div>
<p>And then modified the scripts accordingly as in steps #12-14 and #18
by adding your import statements &quot;<code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">computation</span> <span class="pre">import</span> <span class="pre">compute_windchill</span></code>&quot;
OR &quot;<code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">computation</span> <span class="pre">import</span> <span class="pre">compute_heatindex</span></code>&quot; and
removing the redundant function definitions.</p>
<p>Your two scripts should look as follows:</p>
<p>For <code class="code docutils literal notranslate"><span class="pre">windchillcomp.py</span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">readdata</span> <span class="kn">import</span> <span class="n">read_data</span>
<span class="kn">from</span> <span class="nn">printing</span> <span class="kn">import</span> <span class="n">print_comparison</span>
<span class="kn">from</span> <span class="nn">computation</span> <span class="kn">import</span> <span class="n">compute_windchill</span>

<span class="c1"># Column names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;windspeed&#39;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;windchill&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">}</span>

<span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;windspeed&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;windchill&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">}</span>

<span class="c1"># Read data from file</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>

<span class="c1"># Compute the wind chill factor</span>
<span class="n">windchill</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">temp</span><span class="p">,</span> <span class="n">windspeed</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windspeed&#39;</span><span class="p">]):</span>
   <span class="n">windchill</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compute_windchill</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">windspeed</span><span class="p">))</span>

<span class="c1"># Output comparison of data</span>
<span class="n">print_comparison</span><span class="p">(</span><span class="s1">&#39;WINDCHILL&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windchill&#39;</span><span class="p">],</span> <span class="n">windchill</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>And for <code class="code docutils literal notranslate"><span class="pre">heatindexcomp.py</span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">readdata</span> <span class="kn">import</span> <span class="n">read_data</span>
<span class="kn">from</span> <span class="nn">printing</span> <span class="kn">import</span> <span class="n">print_comparison</span>
<span class="kn">from</span> <span class="nn">computation</span> <span class="kn">import</span> <span class="n">compute_heatindex</span>

<span class="c1"># Column names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;humout&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;heatindex&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">}</span>

<span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;humout&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;heatindex&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>

<span class="c1"># Read data from file</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>

<span class="c1"># Compute the heat index</span>
<span class="n">heatindex</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">temp</span><span class="p">,</span> <span class="n">hum</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;humout&#39;</span><span class="p">]):</span>
   <span class="n">heatindex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compute_heatindex</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">hum</span><span class="p">))</span>

<span class="c1"># Output comparison of data</span>
<span class="n">print_comparison</span><span class="p">(</span><span class="s1">&#39;HEAT INDX&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;heatindex&#39;</span><span class="p">],</span> <span class="n">heatindex</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Stage and commit everything:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git stage -a
$ git commit -m <span class="s2">&quot;Creating computation module&quot;</span>
</pre></div>
</div>
</li>
<li><p>Now, you’ve got quite a few Python
files in the main directory. Which ones are scripts?
Which ones are modules meant to be imported?</p>
<p>Typically, you should group all of the modules
meant for import only into another directory called
a <em>package</em>.  A <em>package</em> is a directory containing
a file called <code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code> inside it.  (Note that
this file is commonly empty.)</p>
<p>Create a new directory called <code class="code docutils literal notranslate"><span class="pre">mysci</span></code> and
create an empty file in it called <code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir mysci
$ <span class="nb">cd</span> mysci
$ touch __init__.py
$ <span class="nb">cd</span> ..
</pre></div>
</div>
<p>Then, move the 3 modules into this package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git mv readdata.py mysci/
$ git mv printing.py mysci/
$ git mv computation.py mysci/
</pre></div>
</div>
<p>Then, let’s modify the import statements at the
top of our two scripts so that the modules are
automatically imported from the new package:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mysci.readdata</span> <span class="kn">import</span> <span class="n">read_data</span>
<span class="kn">from</span> <span class="nn">mysci.printing</span> <span class="kn">import</span> <span class="n">print_comparison</span>
<span class="kn">from</span> <span class="nn">mysci.computation</span> <span class="kn">import</span> <span class="n">compute_heatindex</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Stage everything (don’t forget the
<code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code> file!) and commit</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add -a
$ git commit -m <span class="s2">&quot;Creating mysci package&quot;</span>
</pre></div>
</div>
<p>Our commits are getting bigger, but that’s okay.
Each commit corresponds to a <em>single</em>
(conceptually) change to the codebase.</p>
<p>With this last change, our project should look
like this (ignoring the
<code class="code docutils literal notranslate"><span class="pre">__pycache__</span></code> directories:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>NCAR_python_tutorial_2020/

   data/
      wxobs20170821.txt

   mysci/
      __init__.py
      readdata.py
      printing.py
      computation.py

   heatindexcomp.py
   windchillcomp.py
</pre></div>
</div>
</li>
<li><p>As a brief aside –
look at the use of the computation
functions in these scripts.</p>
<p>In the case of the wind chill factor computation,
it looks like this:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the wind chill factor</span>
<span class="n">windchill</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">temp</span><span class="p">,</span> <span class="n">windspeed</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windspeed&#39;</span><span class="p">]):</span>
   <span class="n">windchill</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compute_windchill</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">windspeed</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>This divides the initialization of the <code class="code docutils literal notranslate"><span class="pre">windchill</span></code>
variable as an empty <code class="code docutils literal notranslate"><span class="pre">list</span></code> from the “filling”
of that <code class="code docutils literal notranslate"><span class="pre">list</span></code> with computed values.</p>
<p>Python gives you some shortcuts to doing this
via a concept called  “comprehensions”, which
are ways of initializing containers (<code class="code docutils literal notranslate"><span class="pre">list</span></code>s,
<code class="code docutils literal notranslate"><span class="pre">dict</span></code>s, etc.) with an <em>internal loop</em>.  For
example, we could have written the previous 3
lines in the form of a “one-liner” like so:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the wind chill factor</span>
<span class="n">windchill</span> <span class="o">=</span> <span class="p">[</span><span class="n">compute_windchill</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;windspeed&#39;</span><span class="p">])]</span>
</pre></div>
</td></tr></table></div>
<p>This is a <em>list comprehension</em>, and it
initializes the entire list with the computed
contents, rather than initializing an empy list
and appending values to it after the fact.
Computationally, this is actually <em>more efficient</em>.</p>
<p>Use list comprehensions to make the computation
steps in both of scripts one-liners.</p>
</li>
<li><p>Do a final stage and commit changes</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add -a
$ git commit -m <span class="s2">&quot;Using list comprehensions&quot;</span>
</pre></div>
</div>
</li>
</ol>
<hr class="docutils" />
<p>That concludes the lesson on “Creating Your First Package”, the first in our introduction to Python packages series.</p>
<p>You should now be familiar with modules, using the
<code class="code docutils literal notranslate"><span class="pre">import</span></code> statement, some more <code class="code docutils literal notranslate"><span class="pre">f-string</span></code> formatting options,
<code class="code docutils literal notranslate"><span class="pre">__pycache__</span></code>, <code class="code docutils literal notranslate"><span class="pre">.gitignore</span></code>, <code class="code docutils literal notranslate"><span class="pre">.__init__</span></code>, and list
comprehensions.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/tutorial/modules.html">More information on Python modules</a>
<a class="reference external" href="https://git-scm.com/docs/gitignore">More information on on .gitignore</a>
<a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions">More information on list comprehension</a></p>
</div>
</div>
<div class="section" id="using-a-built-in-package">
<h3>Using a Built-In Package<a class="headerlink" href="#using-a-built-in-package" title="Permalink to this headline">¶</a></h3>
<p>So far you have created separate <code class="code docutils literal notranslate"><span class="pre">readdata</span></code>, <code class="code docutils literal notranslate"><span class="pre">printing</span></code>, and <code class="code docutils literal notranslate"><span class="pre">computation</span></code> modules
to remove redundant code blocks from your scripts. And you have combined these
modules into a package that we imported into our scripts.</p>
<p>Python comes with many different <em>built-in</em> packages (i.e., libraries) that you can import and use.  The
beauty of using built-in packages is that you don’t have to install anything new!  If you can use and run
Python, you already have access to these packages.  For this tutorial, we are going to cover just a little
bit of the built-in <code class="code docutils literal notranslate"><span class="pre">math</span></code> package, which extends the computational capabilities beyond the basic math operators we’ve already covered.</p>
<ol class="arabic">
<li><p>Open your terminal, navigate to your <code class="code docutils literal notranslate"><span class="pre">python_tutorial</span></code> directory and activate the corresponding environment.</p></li>
<li><p>Now we’re going to add a function for calculating dew point temperature to your <code class="code docutils literal notranslate"><span class="pre">computation.py</span></code> module:</p>
<p>The formula for this is:</p>
<div class="math notranslate nohighlight">
\[\Gamma = \log{(h)} + \frac{b * t}{c + t}\]</div>
<div class="math notranslate nohighlight">
\[\textit{DPT} = \frac{c * \Gamma}{b - \Gamma}\]</div>
<p>Where <em>DPT</em> represents Dew Point Temperature in Degrees C, <em>h</em> is humidity in %, <em>t</em> is temperature is in degrees C, <em>a</em> = 6.112 mbar, <em>b</em> = 18.678, and <em>c</em> = 257.14 degrees C.</p>
<p>In order to compute a natural logarithm, we will need to import the <code class="code docutils literal notranslate"><span class="pre">math</span></code> package.
It is best practice to import packages and modules at the beginning (top) of the file.</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
</pre></div>
</td></tr></table></div>
<p>To access the logarithmic function within the module <code class="code docutils literal notranslate"><span class="pre">math</span></code> you would type <code class="code docutils literal notranslate"><span class="pre">math.log</span></code>.</p>
<p>Then write the function at the bottom of <code class="code docutils literal notranslate"><span class="pre">computation.py</span></code> file (with best practice suggesting 2 empty lines between each function):</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compute_dewpoint</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Compute the dew point temperature given the temperature and humidity</span>

<span class="sd">   Parameters:</span>
<span class="sd">      t: The temperature in units of F</span>
<span class="sd">      h: The relative humidity in units of %</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">tempC</span> <span class="o">=</span> <span class="p">(</span><span class="n">t</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">9</span> <span class="c1"># Convert temperature from deg F to deg C</span>
   <span class="n">rh</span> <span class="o">=</span> <span class="n">h</span> <span class="o">/</span> <span class="mi">100</span>

   <span class="n">a</span> <span class="o">=</span> <span class="mf">6.112</span> <span class="c1"># mbar</span>
   <span class="n">b</span> <span class="o">=</span> <span class="mf">18.678</span>
   <span class="n">c</span> <span class="o">=</span> <span class="mf">257.14</span> <span class="c1"># deg C</span>

   <span class="n">gamma</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">rh</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">tempC</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">c</span> <span class="o">+</span> <span class="n">tempC</span><span class="p">)</span>
   <span class="n">tdp</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">gamma</span><span class="p">)</span>

   <span class="n">tdp_F</span> <span class="o">=</span> <span class="mi">9</span> <span class="o">/</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">tdp</span> <span class="o">+</span> <span class="mi">32</span> <span class="c1"># Convert deg C to deg F</span>
   <span class="k">return</span> <span class="n">tdp_F</span>
</pre></div>
</td></tr></table></div>
<p>This function converts our input temperature to degrees Celsius and humidity to relative humidity,
specifies the constants, calculates the dew point temperature, and finally converts that temperature to degrees Fahrenheit.</p>
</li>
<li><p>Git add and commit <code class="code docutils literal notranslate"><span class="pre">computation.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add computation.py
$ git commit -m <span class="s2">&quot;Function for Computing DPT&quot;</span>
</pre></div>
</div>
</li>
<li><p>Make a copy of your second script with the new name <cite>dewpointtempcomp.py</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp windchillcomp.py dewpointtempcomp.py
</pre></div>
</div>
</li>
<li><p>Git add and commit <code class="code docutils literal notranslate"><span class="pre">dewpointtempcomp.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add dewpointtempcomp.py
$ git commit -m <span class="s2">&quot;Creating a 3rd Script or DPT calculation&quot;</span>
</pre></div>
</div>
</li>
<li><p>Edit <code class="code docutils literal notranslate"><span class="pre">dewpointtempcomp.py</span></code>:</p>
<p>Make changes to the import statements to include:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mysci.computation.py</span> <span class="kn">import</span> <span class="n">compute_dewpoint</span>
</pre></div>
</td></tr></table></div>
<p>And change your <code class="code docutils literal notranslate"><span class="pre">columns</span></code> and <code class="code docutils literal notranslate"><span class="pre">types</span></code> dictionaries to include <code class="code docutils literal notranslate"><span class="pre">dewpt</span></code>:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Columns names and column indices to read</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="mi">0</span> <span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;tempout&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;humout&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dewpt&#39;</span><span class="p">:</span><span class="mi">6</span><span class="p">}</span>

<span class="c1"># Data types for each column (only if non-string)</span>
<span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tempout&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;humout&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;dewpt&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>And finally, make changes to the function calls:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Compute the dew point temperature</span>
<span class="n">dewpointtemp</span> <span class="o">=</span> <span class="p">[</span><span class="n">compute_dewpoint</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;tempout&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;humout&#39;</span><span class="p">])]</span>

<span class="c1"># Output comparison of data</span>
<span class="n">print_comparison</span><span class="p">(</span><span class="s1">&#39;DEW PT&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;dewpt&#39;</span><span class="p">],</span> <span class="n">dewpointtemp</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Git add and commit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git add dewpointtempcomp.py
$ git commit -m <span class="s2">&quot;Computed dew point temperature&quot;</span>
</pre></div>
</div>
</li>
<li><p>Let’s learn more about the math module!</p>
<p>Since you already imported code from your <code class="code docutils literal notranslate"><span class="pre">readdata</span></code>, <code class="code docutils literal notranslate"><span class="pre">printing</span></code>, and <code class="code docutils literal notranslate"><span class="pre">computation</span></code> modules, importing from the built-in package <code class="code docutils literal notranslate"><span class="pre">math</span></code> seemed a little less intimidating.</p>
<p>So far you have only used the <code class="code docutils literal notranslate"><span class="pre">math.log</span></code> function, but let’s test out some other common methods within <code class="code docutils literal notranslate"><span class="pre">math</span></code>.</p>
<p>Perhaps you want to change the base of your logarithm. To do this you could type <code class="code docutils literal notranslate"><span class="pre">math.log(x,</span> <span class="pre">base)</span></code>. Here <code class="code docutils literal notranslate"><span class="pre">base</span></code> is
a keyword argument (just like <code class="code docutils literal notranslate"><span class="pre">filename</span></code> or <code class="code docutils literal notranslate"><span class="pre">types</span></code> in our <code class="code docutils literal notranslate"><span class="pre">read_data()</span></code> function) which
means that <code class="code docutils literal notranslate"><span class="pre">base</span></code> does not need to be specified.  When it is not specified, the logarithm is assumed to
be natural (base <em>e</em>). When both arguments are entered, the function returns the logarithm of <code class="code docutils literal notranslate"><span class="pre">x</span></code> to
the given <code class="code docutils literal notranslate"><span class="pre">base</span></code>,
calculated by <code class="code docutils literal notranslate"><span class="pre">log(x)/log(base)</span></code>. Let’s test this out:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">e</span>

<span class="n">y_natural</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y_base10</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_natural</span><span class="p">,</span> <span class="n">y_base10</span><span class="p">)</span>
</pre></div>
</div>
<p>Something new that we have done here is use the &quot;<code class="code docutils literal notranslate"><span class="pre">import</span> <span class="pre">...</span> <span class="pre">as</span> <span class="pre">...</span></code>&quot; statement. This essentially allows us to
shorten the name of the module for convenience if it is very long or if we are going to be calling it a lot.</p>
<p>The symbol <code class="code docutils literal notranslate"><span class="pre">math.e</span></code> represents Euler’s number (<em>e</em>), the base of the natural logarithm. Euler’s number (<em>e</em>) is an irrational number with infinite decimal places, often approximated as 2.718.
How much more accurate is <code class="code docutils literal notranslate"><span class="pre">math.e</span></code> than this approximation?</p>
<p>The function <code class="code docutils literal notranslate"><span class="pre">math.log(x,</span> <span class="pre">base)</span></code> is very useful for computing logarithms in any base - but
for some common bases there are separate logarithmic functions.
Try using <code class="code docutils literal notranslate"><span class="pre">log10(x)</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">e</span>

<span class="n">y_natural</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y_base10</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">y_log10</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_natural</span><span class="p">,</span> <span class="n">y_base10</span><span class="p">,</span> <span class="n">y_log10</span><span class="p">)</span>
</pre></div>
</div>
<p>Do the two values differ? The <code class="code docutils literal notranslate"><span class="pre">math.log10(x)</span></code> function is considered to be more accurate than <code class="code docutils literal notranslate"><span class="pre">math.log(x,</span> <span class="pre">10)</span></code>.
Similarly <code class="code docutils literal notranslate"><span class="pre">math.log2(x)</span></code> is more accurate than <code class="code docutils literal notranslate"><span class="pre">math.log(x,</span> <span class="pre">2)</span></code>.</p>
</li>
<li><p>Let’s cover some <code class="code docutils literal notranslate"><span class="pre">math</span></code> trigonometry examples!</p>
<p>The math symbol <span class="math notranslate nohighlight">\(\pi\)</span> is an irrational number (like <em>e</em>) that is approximately <span class="math notranslate nohighlight">\(\frac{22}{7}\)</span> or 3.14159.
We can access the most accurate <code class="code docutils literal notranslate"><span class="pre">float</span></code> version of this number (depending on your C compiler), with <code class="code python docutils literal notranslate"><span class="name"><span class="pre">math</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">pi</span></span></code>.</p>
<p>Say we wanted to convert a number from 60 degrees to radians. We have two options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>

<span class="n">deg</span> <span class="o">=</span> <span class="mi">60</span>

<span class="n">rads</span> <span class="o">=</span> <span class="n">deg</span> <span class="o">*</span> <span class="n">m</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span>
<span class="n">rads_fromfunc</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">deg</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">deg</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">rads</span><span class="p">,</span> <span class="n">rads_fromfunc</span><span class="p">)</span>
</pre></div>
</div>
<p>In the first example we used <code class="code python docutils literal notranslate"><span class="name"><span class="pre">math</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">pi</span></span></code> to perform our calculation (by default printed to 15 digits). In the second conversion,
we used the function <code class="code docutils literal notranslate"><span class="pre">math.radians(x)</span></code> which converts angle x from degrees to radians.</p>
<p>We can also use trigonometric functions: <code class="code docutils literal notranslate"><span class="pre">math.sin</span></code> to get the sine value of an angle, <code class="code docutils literal notranslate"><span class="pre">math.cos</span></code> to get the cosine,
<code class="code docutils literal notranslate"><span class="pre">math.tan</span></code> for the tangent, <code class="code docutils literal notranslate"><span class="pre">math.asin</span></code> for the arc sine, <code class="code docutils literal notranslate"><span class="pre">math.acos</span></code> to get the arc cosine, and <code class="code docutils literal notranslate"><span class="pre">math.atan</span></code> to get the arc tangent.
You can also calculate the hypotenuse of a triangle with <code class="code docutils literal notranslate"><span class="pre">math.hypot()</span></code>.
The input angle for each of these functions must be in radians to get the expected result!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>

<span class="n">deg</span> <span class="o">=</span> <span class="mi">180</span>

<span class="n">cos_deg</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">deg</span><span class="p">)</span>
<span class="n">cos_rad</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mi">60</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cos_deg</span><span class="p">,</span> <span class="n">cos_rad</span><span class="p">)</span>
</pre></div>
</div>
<p>You might remember that the cosine of 180 degrees is -1, you can see that we only get the correct value if we enter the degree in radians (180 deg = PI radians).</p>
</li>
<li><p>Let’s use <code class="code docutils literal notranslate"><span class="pre">math.factorial()</span></code>:</p>
<p>Another popular <code class="code docutils literal notranslate"><span class="pre">math</span></code> function is <code class="code docutils literal notranslate"><span class="pre">factorial()</span></code> which is much faster and requires a lot less code than writing your own <code class="code docutils literal notranslate"><span class="pre">for</span></code> loops to find the factorial of a number.
Try <code class="code docutils literal notranslate"><span class="pre">math.factorial(5)</span></code> and see what you get!</p>
</li>
</ol>
<hr class="docutils" />
<p>That concludes the “Using a Built-In Package” section of this tutorial.
You should now be familiar with importing packages that you did not build and some methods within the <code class="code docutils literal notranslate"><span class="pre">math</span></code> module -
specifically the <code class="code docutils literal notranslate"><span class="pre">log</span></code> method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/math.html">More information on the Math module</a></p>
</div>
</div>
</div>
</div>


      </main>

    </div>



    <footer class="text-light bg-dark pt-3">
      <div class="container">
        <div class="row">
          <div class="col-12 col-md">
            <a href="https://www2.cisl.ucar.edu/"><img src="../_static/img/CISL-contemp-logo-white.svg" alt="CISL" class="ncar-logo"></a>
          </div>
          <div class="col-12 col-md-auto">
            <p class="footer-text copyright"><a href="https://www.ucar.edu/">University Corporation for Atmospheric Research</a> &copy; 2020<br>
            Proudly published with <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a><br>
            Apache 2.0</p>
          </div>
        </div>
        <div class="row pt-3 border-top">
          <div class="col-auto">
            <a href="https://nsf.gov/"><img src="../_static/img/footer-logo-nsf.png" alt="NSF" class="nsf-logo"></a>
          </div>
          <div class="col">
            <p class="footer-text">This material is based upon work supported by the National Center for Atmospheric Research, a major facility
            sponsored by the National Science Foundation and managed by the University Corporation for Atmospheric Research. Any opinions,
            findings and conclusions or recommendations expressed in this material do not necessarily reflect the views of the National
            Science Foundation.</p>
          </div>
        </div>
      </div>
    </footer>


    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
  </body>
</html>
